{"ast":null,"code":"import _classCallCheck from\"/Users/lwailoon/Desktop/reactapp/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/lwailoon/Desktop/reactapp/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/lwailoon/Desktop/reactapp/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/lwailoon/Desktop/reactapp/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import UploadModal from\"./uploadModal\";import Video from\"./video\";import axios from\"axios\";import config from\"./../config.json\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Videos=/*#__PURE__*/function(_Component){_inherits(Videos,_Component);var _super=_createSuper(Videos);function Videos(){var _this;_classCallCheck(this,Videos);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:null};_this.fetchResult=function(){axios.get(config.Server_URL+\"/readDB\").then(function(res){if(res.data){_this.setState({data:res.data});console.log(res);}});};return _this;}_createClass(Videos,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchResult();}},{key:\"render\",value:function render(){var _this2=this;if(this.state.data===null){return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"videoList\",className:\"album py-5 bg-light\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"There are no videos uploaded yet.\"})})}),/*#__PURE__*/_jsx(UploadModal,{onUploaded:function onUploaded(){return _this2.fetchResult();}})]});}else{return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"videoList\",className:\"album py-5 bg-light\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3\",children:this.state.data.map(function(data){return/*#__PURE__*/_jsx(Video,{title:data.title,image:data.image,filename:data.filename,datetime:data.datetime},data.id);})})})}),/*#__PURE__*/_jsx(UploadModal,{onUploaded:function onUploaded(){return _this2.fetchResult();}})]});}}}]);return Videos;}(Component);export default Videos;","map":{"version":3,"sources":["/Users/lwailoon/Desktop/reactapp/client/src/components/videos.jsx"],"names":["React","Component","UploadModal","Video","axios","config","Videos","state","data","fetchResult","get","Server_URL","then","res","setState","console","log","map","title","image","filename","datetime","id"],"mappings":"wdAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,C,2FAEMC,CAAAA,M,2TAEFC,K,CAAQ,CACJC,IAAI,CAAE,IADF,C,OAQRC,W,CAAc,UAAM,CAChBL,KAAK,CAACM,GAAN,CAAUL,MAAM,CAACM,UAAP,CAAoB,SAA9B,EACCC,IADD,CACM,SAAAC,GAAG,CAAI,CACT,GAAGA,GAAG,CAACL,IAAP,CAAa,CACT,MAAKM,QAAL,CAAc,CACVN,IAAI,CAAEK,GAAG,CAACL,IADA,CAAd,EAGAO,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACH,CACJ,CARD,EASH,C,mEAdD,4BAAoB,CAChB,KAAKJ,WAAL,GACH,C,sBAcD,iBAAS,iBACL,GAAG,KAAKF,KAAL,CAAWC,IAAX,GAAoB,IAAvB,CAA6B,CACzB,mBACI,qCACI,YAAK,cAAY,WAAjB,CAA6B,SAAS,CAAC,qBAAvC,uBACI,YAAK,SAAS,CAAC,WAAf,uBACI,yDADJ,EADJ,EADJ,cAMI,KAAC,WAAD,EAAa,UAAU,CAAG,4BAAM,CAAA,MAAI,CAACC,WAAL,EAAN,EAA1B,EANJ,GADJ,CAUH,CAXD,IAYK,CACD,mBACI,qCACI,YAAK,cAAY,WAAjB,CAA6B,SAAS,CAAC,qBAAvC,uBACI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAK,SAAS,CAAC,gDAAf,UACK,KAAKF,KAAL,CAAWC,IAAX,CAAgBS,GAAhB,CAAoB,SAAAT,IAAI,qBACzB,KAAC,KAAD,EAEI,KAAK,CAAEA,IAAI,CAACU,KAFhB,CAGI,KAAK,CAAEV,IAAI,CAACW,KAHhB,CAII,QAAQ,CAAEX,IAAI,CAACY,QAJnB,CAKI,QAAQ,CAAEZ,IAAI,CAACa,QALnB,EACSb,IAAI,CAACc,EADd,CADyB,EAAxB,CADL,EADJ,EADJ,EADJ,cAeI,KAAC,WAAD,EAAa,UAAU,CAAG,4BAAM,CAAA,MAAI,CAACb,WAAL,EAAN,EAA1B,EAfJ,GADJ,CAmBH,CACJ,C,oBAxDgBR,S,EA2DrB,cAAeK,CAAAA,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport UploadModal from \"./uploadModal\";\nimport Video from \"./video\";\nimport axios from \"axios\";\nimport config from \"./../config.json\";\n\nclass Videos extends Component {\n\n    state = {\n        data: null\n    }\n\n    componentDidMount() {\n        this.fetchResult();\n    }\n\n    fetchResult = () => {\n        axios.get(config.Server_URL + \"/readDB\")\n        .then(res => {\n            if(res.data) {\n                this.setState({\n                    data: res.data\n                });\n                console.log(res);\n            }\n        });\n    };\n\n    render() {\n        if(this.state.data === null) {\n            return (\n                <main>\n                    <div data-testid=\"videoList\" className=\"album py-5 bg-light\">\n                        <div className=\"container\">\n                            <h4>There are no videos uploaded yet.</h4>\n                        </div>\n                    </div>\n                    <UploadModal onUploaded={ () => this.fetchResult() } />\n                </main>\n            );\n        }\n        else {\n            return (\n                <main>\n                    <div data-testid=\"videoList\" className=\"album py-5 bg-light\">\n                        <div className=\"container\">\n                            <div className=\"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3\">\n                                {this.state.data.map(data => \n                                <Video \n                                    key={data.id}\n                                    title={data.title}\n                                    image={data.image}\n                                    filename={data.filename}\n                                    datetime={data.datetime}\n                                />)}\n                            </div>\n                        </div>\n                    </div>\n                    <UploadModal onUploaded={ () => this.fetchResult() } />\n                </main>\n            );\n        }\n    }\n}\n \nexport default Videos;"]},"metadata":{},"sourceType":"module"}